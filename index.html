<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="THE BLOCK - Creative Writing PWA by BIG LOVE Holdings">
    <meta name="theme-color" content="#0a0a0b">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple Touch Icon -->
    <link rel="apple-touch-icon" href="assets/icons/icon-192.png">
    
    <!-- Google Fonts - Inter (The Modern Standard) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="css/styles.css">
    
    <title>THE BLOCK | Creative Writing</title>
</head>
<body>
    
    <!-- App Container -->
    <div id="app">
        
      <div class="sidebar-header">
                <div class="logo">
                    <span class="logo-icon">
                        <svg class="horus-eye" viewBox="0 0 40 40" width="28" height="28">
                            <circle cx="20" cy="20" r="8" fill="none" stroke="currentColor" stroke-width="2"/>
                            <circle cx="20" cy="20" r="3" fill="currentColor"/>
                            <path d="M4 20 Q12 8 20 12" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M36 20 Q28 8 20 12" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M20 28 Q20 35 14 38" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </span>
                    <span class="logo-text">THE BLOCK</span>
                </div>
                <div class="user-info">
                    <span id="user-name" class="user-name">Writer</span>
                    <span id="user-tier" class="tier-badge free">FREE</span>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <button id="btn-new" class="nav-item active">
                    <span class="nav-icon">+</span>
                    <span class="nav-label">New Draft</span>
                </button>
                <button id="btn-projects" class="nav-item">
                    <span class="nav-icon">üìÅ</span>
                    <span class="nav-label">Projects</span>
                </button>
                <button id="btn-compost" class="nav-item">
                    <span class="nav-icon">üå±</span>
                    <span class="nav-label">Compost</span>
                </button>
            </nav>
<div class="sidebar-footer">
                <div class="realm-badge">
                    <span class="realm-label">Current Realm</span>
                    <span id="realm-indicator" class="realm-value">1</span>
                </div>
                <button id="btn-logout" class="btn-logout">
                    <span class="logout-icon">‚Ü©</span>
                    <span>Sign Out</span>
                </button>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            
            <!-- Top Bar -->
            <header class="topbar">
                <div class="topbar-left">
                    <button id="btn-menu" class="icon-btn mobile-only">‚ò∞</button>
                </div>
                <div class="topbar-center">
                    <span id="save-status" class="save-status">‚úì Saved</span>
                </div>
                <div class="topbar-right">
                    <span id="word-count" class="word-count">0 words</span>
                </div>
            </header>
            
            <!-- Editor Container -->
            <div class="editor-container">
                
                <!-- Title Input -->
                <input 
                    type="text" 
                    id="project-title" 
                    class="project-title" 
                    placeholder="Untitled" 
                    spellcheck="false"
                />
                
                <!-- The Editor -->
                <div 
                    id="editor" 
                    class="editor" 
                    contenteditable="true" 
                    data-placeholder="Start writing..."
                    spellcheck="true"
                ></div>
                
            </div>
            
        </main>
        
    </div>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('‚ú¶ SW registered'))
                .catch(err => console.log('‚ú¶ SW error:', err));
        }
    </script>
    
<!-- Supabase Library -->
     <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <!-- Supabase Connection -->
    <script>
        // Wait for Supabase to load, then initialize
        const SUPABASE_URL = 'https://wwzhafvlqejccrskvwhb.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind3emhhZnZscWVqY2Nyc2t2d2hiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYyOTk0MzgsImV4cCI6MjA4MTg3NTQzOH0.ajBE95GUoGNHmWiJ7WMFj0StVRrLd6Rp58I0sEh55pQ';
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        
        // Auth functions
        window.SupabaseAuth = {
            signUp: async (email, password, name) => {
                const { data, error } = await supabase.auth.signUp({
                    email, password,
                    options: { data: { name, tier: 'free' } }
                });
                if (error) throw error;
                return data;
            },
            signIn: async (email, password) => {
                const { data, error } = await supabase.auth.signInWithPassword({ email, password });
                if (error) throw error;
                return data;
            },
            signOut: async () => {
                const { error } = await supabase.auth.signOut();
                if (error) throw error;
                return true;
            },
            getUser: async () => {
                const { data: { user } } = await supabase.auth.getUser();
                return user;
            },
            resetPassword: async (email) => {
                const { data, error } = await supabase.auth.resetPasswordForEmail(email);
                if (error) throw error;
                return data;
            },
            client: supabase
        };
        
        console.log('‚ú¶ Supabase ready');
    </script>
    
    <!-- Main App Script -->
    <script src="js/app.js"></script>

    
</body>
</html>